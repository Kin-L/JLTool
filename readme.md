# JLTool - 日语音乐歌词注音与翻译工具

JLTool 是一个功能强大的日语歌词注音与翻译工具，支持为日语歌词自动添加假名注音、罗马音注音和中文翻译，并支持多种文件格式的批量处理。

## 功能特性

### 核心功能
1. **日语歌词注音**：
   - 假名注音（平假名）
   - 罗马音注音
   - 支持自定义注音序列顺序

2. **歌词翻译**：
   - 支持 Deepseek API 进行 AI 翻译（需自行申请 API 密钥）

3. **多格式支持**：
   - 音频文件：`.mp3`、`.flac`、`.opus`
   - 文本文件：`.txt`、`.lrc`

### 处理模式
- **本地计算模式**：使用本地算法快速注音（无翻译功能）
- **AI 翻译模式**：使用 Deepseek API 进行注音和翻译（需要网络和 API 密钥）

## 安装与使用

### 1. 安装依赖
```bash
pip install -r requirements.txt
```

### 2. 启动程序
```bash
python GUI.py
```

### 3. 配置说明

#### 序列配置
设置歌词显示的排列顺序，支持以下选项：
- 中文翻译
- 日语/原文
- 假名注音
- 罗马音注音
- 禁用

**示例配置**：
- `假名注音-日语/原文`：先显示假名注音，再显示日语原文
- `日语/原文-假名注音-中文翻译`：显示原文、注音和翻译

#### Deepseek 配置
如需使用 AI 翻译功能：
1. 勾选"启用 Deepseek 翻译"
2. 输入您的 Deepseek API 密钥
3. API 密钥可从 [Deepseek 官网](https://platform.deepseek.com/) 获取

## 使用流程

### 1. 添加文件/文件夹
- 点击"添加文件"选择单个或多个文件
- 点击"添加文件夹"选择整个文件夹
- 支持递归搜索子文件夹中的文件

### 2. 配置处理选项
- 设置注音序列顺序
- 根据需要启用/禁用 Deepseek 翻译
- 选择日志级别

### 3. 开始处理
- 点击"开始处理"按钮启动批量处理
- 处理过程中可以实时查看进度和日志
- 处理结果会自动分类保存

## 输出结果

### 文件分类
处理完成后，文件会根据处理结果自动分类到以下文件夹：

| 文件夹 | 说明 |
|--------|------|
| `success/` | 处理成功的文件，通常无需进一步检查 |
| `defect/` | 可能存在处理缺陷的文件，需要人工检查 |
| `error/` | 歌词读取失败的文件 |
| `other/` | 非日语歌词或非同步歌词的文件 |

### 备份文件
- `lyrics/` 文件夹：保存修改前的原始歌词备份
- `logs/` 文件夹：保存详细的处理日志
- `output/` 文件夹（仅 AI 模式）：保存 Deepseek API 的返回信息

## 注意事项

### 重要提醒
1. **数据备份**：工具会直接修改原文件，建议在处理前备份重要数据
2. **准确率**：本地注音算法存在一定错误率，AI 翻译准确率较高但仍需人工核对
3. **网络要求**：使用 Deepseek 功能需要稳定的网络连接
4. **API 限制**：Deepseek API 有使用频率和用量限制，请合理使用

### 性能说明
- **本地模式**：处理速度快，适合批量处理，不支持翻译
- **AI 模式**：处理速度较慢但准确率高，支持翻译功能
- 两种模式均支持多线程处理

### 处理效果对比
- **无翻译处理**：为日语歌词添加注音
- **有翻译处理**：添加注音和中文翻译
- **文本文件处理**：支持纯文本歌词文件的处理

## 故障排除

### 常见问题
1. **文件读取失败**：检查文件格式是否受支持，文件是否损坏
2. **API 连接失败**：检查网络连接和 API 密钥是否正确
3. **处理结果不理想**：尝试调整序列配置，或启用 AI 翻译模式

### 获取帮助
- 查看 `logs/` 目录下的详细日志文件
- 访问项目地址获取最新版本和问题反馈

## 项目信息

### 作者
- **B站**：绘星痕
- **GitHub**：Kin-L

### 项目地址
- **GitHub**: https://github.com/Kin-L/JLTool
- **Gitee**: https://gitee.com/huixinghen/JLTool

### 版本更新
- 自动保存用户配置到 `config.json`
- 支持日志级别动态调整
- 改进的进度显示和统计信息
- 优化的文件分类机制

---

**提示**：首次使用建议先用少量文件测试，熟悉工具功能和效果后再进行批量处理。处理重要文件前请务必备份原始数据。
